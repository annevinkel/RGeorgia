<!DOCTYPE html>
<html>
<head>
  <title>R-functionality</title>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="generator" content="pandoc" />




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <base target="_blank">

  <script type="text/javascript">
    var SLIDE_CONFIG = {
      // Slide settings
      settings: {
                title: 'R-functionality',
                        useBuilds: true,
        usePrettify: true,
        enableSlideAreas: true,
        enableTouch: true,
                        favIcon: 'Lecture_B_files/logo.png',
              },

      // Author information
      presenters: [
            {
        name:  'Gerko Vink, Anne Vinkel &amp; Peter Stoltze' ,
        company: '',
        gplus: '',
        twitter: '',
        www: '',
        github: ''
      },
            ]
    };
  </script>

  <link href="libs/ioslides-13.5.1/fonts/fonts.css" rel="stylesheet" />
  <link href="libs/ioslides-13.5.1/theme/css/default.css" rel="stylesheet" />
  <link href="libs/ioslides-13.5.1/theme/css/phone.css" rel="stylesheet" />
  <script src="libs/ioslides-13.5.1/js/modernizr.custom.45394.js"></script>
  <script src="libs/ioslides-13.5.1/js/prettify/prettify.js"></script>
  <script src="libs/ioslides-13.5.1/js/prettify/lang-r.js"></script>
  <script src="libs/ioslides-13.5.1/js/prettify/lang-yaml.js"></script>
  <script src="libs/ioslides-13.5.1/js/hammer.js"></script>
  <script src="libs/ioslides-13.5.1/js/slide-controller.js"></script>
  <script src="libs/ioslides-13.5.1/js/slide-deck.js"></script>

  <style type="text/css">

    b, strong {
      font-weight: bold;
    }

    em {
      font-style: italic;
    }

    summary {
      display: list-item;
    }

    slides > slide {
      -webkit-transition: all 0.4s ease-in-out;
      -moz-transition: all 0.4s ease-in-out;
      -o-transition: all 0.4s ease-in-out;
      transition: all 0.4s ease-in-out;
    }

    .auto-fadein {
      -webkit-transition: opacity 0.6s ease-in;
      -webkit-transition-delay: 0.4s;
      -moz-transition: opacity 0.6s ease-in 0.4s;
      -o-transition: opacity 0.6s ease-in 0.4s;
      transition: opacity 0.6s ease-in 0.4s;
      opacity: 0;
    }
/* https://github.com/ropensci/plotly/pull/524#issuecomment-468142578 */
slide:not(.current) .plotly.html-widget{
  display: block;
}

    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
            pre > code.sourceCode { white-space: pre; position: relative; }
            pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
            pre > code.sourceCode > span:empty { height: 1.2em; }
            code.sourceCode > span { color: inherit; text-decoration: inherit; }
            div.sourceCode { margin: 1em 0; }
            pre.sourceCode { margin: 0; }
            @media screen {
            div.sourceCode { overflow: auto; }
            }
            @media print {
            pre > code.sourceCode { white-space: pre-wrap; }
            pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
            }
            pre.numberSource code
              { counter-reset: source-line 0; }
            pre.numberSource code > span
              { position: relative; left: -4em; counter-increment: source-line; }
            pre.numberSource code > span > a:first-child::before
              { content: counter(source-line);
                position: relative; left: -1em; text-align: right; vertical-align: baseline;
                border: none; display: inline-block;
                -webkit-touch-callout: none; -webkit-user-select: none;
                -khtml-user-select: none; -moz-user-select: none;
                -ms-user-select: none; user-select: none;
                padding: 0 4px; width: 4em;
                color: #aaaaaa;
              }
            pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
            div.sourceCode
              {   }
            @media screen {
            pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
            }
            code span.al { color: #ff0000; font-weight: bold; } /* Alert */
            code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
            code span.at { color: #7d9029; } /* Attribute */
            code span.bn { color: #40a070; } /* BaseN */
            code span.bu { } /* BuiltIn */
            code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
            code span.ch { color: #4070a0; } /* Char */
            code span.cn { color: #880000; } /* Constant */
            code span.co { color: #60a0b0; font-style: italic; } /* Comment */
            code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
            code span.do { color: #ba2121; font-style: italic; } /* Documentation */
            code span.dt { color: #902000; } /* DataType */
            code span.dv { color: #40a070; } /* DecVal */
            code span.er { color: #ff0000; font-weight: bold; } /* Error */
            code span.ex { } /* Extension */
            code span.fl { color: #40a070; } /* Float */
            code span.fu { color: #06287e; } /* Function */
            code span.im { } /* Import */
            code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
            code span.kw { color: #007020; font-weight: bold; } /* Keyword */
            code span.op { color: #666666; } /* Operator */
            code span.ot { color: #007020; } /* Other */
            code span.pp { color: #bc7a00; } /* Preprocessor */
            code span.sc { color: #4070a0; } /* SpecialChar */
            code span.ss { color: #bb6688; } /* SpecialString */
            code span.st { color: #4070a0; } /* String */
            code span.va { color: #19177c; } /* Variable */
            code span.vs { color: #4070a0; } /* VerbatimString */
            code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
        
    slides > slide:not(.nobackground):before {
      font-size: 12pt;
      content: "";
      position: absolute;
      bottom: 20px;
      left: 60px;
      background: url(Lecture_B_files/logo.png) no-repeat 0 50%;
      -webkit-background-size: 30px 30px;
      -moz-background-size: 30px 30px;
      -o-background-size: 30px 30px;
      background-size: 30px 30px;
      padding-left: 40px;
      height: 30px;
      line-height: 1.9;
    }
  </style>


</head>

<body style="opacity: 0">

<slides>

  <slide class="title-slide segue nobackground">
        <aside class="gdbar"><img src="Lecture_B_files/logo.png"></aside>
        <!-- The content of this hgroup is replaced programmatically through the slide_config.json. -->
    <hgroup class="auto-fadein">
      <h1 data-config-title><!-- populated from slide_config.json --></h1>
      
      <p data-config-presenter><!-- populated from slide_config.json --></p>
            <p style="margin-top: 6px; margin-left: -2px;">Statistical Programming with R</p>
          </hgroup>
  </slide>

<slide class=""><hgroup><h2>This lecture:</h2></hgroup><article  class="smaller " id="this-lecture">

<ul>
<li><code>R</code> functionality

<ul>
<li>The blueprint of <code>R</code></li>
<li>Workspaces and projects</li>
<li>Classes</li>
</ul></li>
<li>Reading in and exporting data</li>
</ul>

</article></slide><slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2>The blueprint of <code>R</code></h2></hgroup><article  class="smaller " id="the-blueprint-of-r">

</article></slide><slide class=""><hgroup><h2>What we learned about <code>R</code></h2></hgroup><article  class="smaller " id="what-we-learned-about-r">

<ul>
<li>You type commands into the <em>console</em> and <code>R</code> evaluates them</li>
<li>You can assign a name to an object by writing <code>name &lt;- object</code> and <code>R</code> will keep this in memory so you can refer to it later</li>
<li>Instead of working in the console, you can write code in the <em>editor</em> and send it to the console (by clicking &ldquo;Run&rdquo; or pressing CTRL + RETURN)

<ul>
<li>This is good because you keep a record of what you did and can repeat later</li>
</ul></li>
<li>RStudio shows which objects you have created by listing them in the environment window</li>
</ul>

</article></slide><slide class=""><hgroup><h2>Packages</h2></hgroup><article  class="smaller " id="packages">

<ul>
<li>Collections of functions and data made by other <code>R</code> users for the good of the <code>R</code> community.</li>
<li>There’s almost certainly a package for what you want to do

<ul>
<li>but &ldquo;buyer beware&rdquo;</li>
</ul></li>
<li>Most packages can be found on <a href='https://cran.r-project.org/' title=''>https://cran.r-project.org/</a></li>
</ul>

</article></slide><slide class=""><hgroup><h2>Loading packages</h2></hgroup><article  class="smaller " id="loading-packages">

<p>There are two ways to load a package in <code>R</code></p>

<pre class = 'prettyprint lang-r'>library(stats)</pre>

<p>and</p>

<pre class = 'prettyprint lang-r'>require(stats)</pre>

</article></slide><slide class=""><hgroup><h2>Installing packages</h2></hgroup><article  class="smaller " id="installing-packages">

<p>The easiest way to install e.g. package <code>mice</code> is to use</p>

<pre class = 'prettyprint lang-r'>install.packages(&quot;mice&quot;)</pre>

<p>Alternatively, you can also do it in <code>RStudio</code> through</p>

<p><code>Tools --&gt; Install Packages</code></p>

</article></slide><slide class=""><hgroup><h2>Installing packages</h2></hgroup><article  class="smaller " id="installing-packages-1">

<ul>
<li>Can you trust a package?

<ul>
<li>As I said: &ldquo;Buyer beware&rdquo;</li>
<li>CRAN has some minimal checks</li>
<li>Things to look for:

<ul>
<li>Is the creator trustworthy?</li>
<li>Is the package well-documented and maintained?</li>
<li>Does it have many users?</li>
<li>Do the creator/s respond to bug reports?</li>
</ul></li>
</ul></li>
</ul>

</article></slide><slide class=""><hgroup><h2>Environments</h2></hgroup><article  class="smaller " id="environments">

<pre class = 'prettyprint lang-r'>## Do we have any object named starwars?
starwars</pre>

<pre class = 'prettyprint lang-r'>## Load the package dplyr. You still cannot see any object named starwars, but:
library(dplyr)
starwars</pre>

<p>The package <code>dplyr</code> has its own environment, nested in but hidden from the global environment.</p>

</article></slide><slide class=""><hgroup><h2>Environments</h2></hgroup><article  class="smaller " id="environments-1">

<p>The global environment can be seen as a olympic-size swimming pool. Everything you do has its place there.</p>

<p>If you’d like, you may create another, separate environment to work in.</p>

<ul>
<li>A user environment would by default not have access to other environments</li>
</ul>

</article></slide><slide class=""><hgroup><h2>Packages have their own environments</h2></hgroup><article  class="smaller " id="packages-have-their-own-environments">

<ul>
<li>Everything needed to run the functions in a package is neatly contained within its own space</li>
<li>See packages as separate (mini) pools that are connected to the main pool (the global environment)</li>
</ul>

</article></slide><slide class=""><hgroup><h2>Functions</h2></hgroup><article  class="smaller " id="functions">

<ul>
<li><p>A function is an object in <code>R</code></p></li>
<li><p>If you create a function, it is positioned in the global environment.</p></li>
<li><p>Everything that happens in a function, stays in a function. Unless you specifically tell the function to share the information with the global environment.</p></li>
<li><p>See functions as a shampoo bottle in a swimming pool to which you add some water. If you’d like to see the color of the mixture, you’d have to squeeze the bottle for it to come out.</p></li>
</ul>

<!-- ## Packages -->

<!-- - Packages have their own space.  -->

<!--     - Everything needed to run the functions in a package is needly contained within its own space -->

<!--     - See packages as separate (mini) pools that are connected to the main pool (the global environment) -->

<!-- ## Loading packages -->

<!-- There are two ways to load a package in `R` -->

<!-- ```{r} -->

<!-- library(stats) -->

<!-- ```  -->

<!-- and -->

<!-- ```{r} -->

<!-- require(stats) -->

<!-- ``` -->

<!-- `require()` will produce a warning when a package is not found. In other words, it will not stop as function `library()` does.  -->

<!-- ## Installing packages -->

<!-- The easiest way to install e.g. package `mice` is to use -->

<!-- ```{r eval=FALSE} -->

<!-- install.packages("mice") -->

<!-- ``` -->

<!-- Alternatively, you can also do it in `RStudio` through  -->

<!-- `Tools -> Install Packages` -->

<!-- ## Namespaces -->

<!-- - Namespaces. These are the deeper layers that feed new water to the surface of the mini pools.     -->

<!--     - Packages can have namespaces.  -->

<!--     - Functions within packages are executed within the package or namespace and have access to the global environment.  -->

<!--     - Objects in the global environment that match objects in the function's namespace are ignored when running functions from packages! -->

</article></slide><slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2><code>R</code> in depth</h2></hgroup><article  class="smaller " id="r-in-depth">

</article></slide><slide class=""><hgroup><h2>Workspaces and why you should (generally) <em>not</em> save them</h2></hgroup><article  class="smaller smaller" id="workspaces-and-why-you-should-generally-not-save-them">

<p>A workspace contains all changes you made to environments, functions and namespaces.</p>

<p>A saved workspace contains everything at the time of the state wherein it was saved.</p>

<p>You can reload a saved workspace and continue working at a later point</p>

<p>When you exit an R session, you’re faced with the question of whether or not to save your workspace. <em>You should almost never answer yes</em>.</p>

<h3>Why not to save?</h3>

<ul>
<li><em>Code</em> is reproducible and logical</li>
<li>A <em>saved workspace</em> is whatever you did earlier and then forgot about</li>
</ul>

</article></slide><slide class=""><hgroup><h2>Workspaces and how not to save them</h2></hgroup><article  class="smaller " id="workspaces-and-how-not-to-save-them">

<center>

<img src="rstudio-dont-save-workspace.png" alt="HTML5 Icon" width = 80%>

</center>

</article></slide><slide class=""><hgroup><h2>History</h2></hgroup><article  class="smaller " id="history">

<p><code>R</code> by default saves (part of) the code history and <code>RStudio</code> expands this functionality greatly.</p>

<p>Most often it may be useful to look back at the code history for various reasons.</p>

<ul>
<li><p>There are multiple ways to access the code history.</p>

<ol>
<li>Use arrow up in the console. This allows you to go back in time, one codeline by one. Extremely useful to go back to previous lines for minor alterations to the code.</li>
<li>Use the history tab in the environment pane. The complete project history can be found here and the history can be searched. This is particularly convenient when you know what code you are looking for.</li>
</ol></li>
</ul>

</article></slide><slide class=""><hgroup><h2>Working in projects in <code>RStudio</code></h2></hgroup><article  class="smaller " id="working-in-projects-in-rstudio">

<p><code>R</code> has a notion of the <strong>working directory</strong>. This is where <code>R</code> will look for, and save, files unless directed elsewhere</p>

<p>You can set your working directory manually with <code>setwd()</code>. But for a better, more stable and reproducible workflow, use <strong>projects</strong>: <right> <img src="Create%20project.png" alt="HTML5 Icon" width = 75%> </right></p>

</article></slide><slide class=""><hgroup><h2>Working in projects in <code>RStudio</code></h2></hgroup><article  class="smaller " id="working-in-projects-in-rstudio-1">

<ul>
<li>Every project has its own history</li>
<li>Every project can have its own version control system</li>
<li>When opening a project, this sets the working directory in the same folder</li>
<li>When working in a project, files belonging to the same project are stored together</li>
</ul>

</article></slide><slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2>Classes</h2></hgroup><article  class="smaller " id="classes">

</article></slide><slide class=""><hgroup><h2>Classes in R</h2></hgroup><article  class="smaller smaller" id="classes-in-r">

<p>Remember the <code>boys</code> data from package <code>mice</code>:</p>

<pre class = 'prettyprint lang-r'>library(mice)
class(boys)</pre>

<pre >## [1] &quot;data.frame&quot;</pre>

<pre class = 'prettyprint lang-r'>class(boys$age)</pre>

<pre >## [1] &quot;numeric&quot;</pre>

<pre class = 'prettyprint lang-r'>model &lt;- lm(bmi ~ I(wgt / (hgt / 100)^2), data = boys)
class(model)</pre>

<pre >## [1] &quot;lm&quot;</pre>

</article></slide><slide class=""><hgroup><h2>Classes in R</h2></hgroup><article  class="smaller smaller" id="classes-in-r-1">

<p>Classes are used for an object-oriented style of programming. This means that you can write a specific function that</p>

<ul>
<li>has fixed requirements with respect to the input.</li>
<li>presents output or graphs in a predefined manner.</li>
</ul>

<p>When a generic function fun is applied to an object with class attribute <code>c(&quot;first&quot;, &quot;second&quot;)</code>, the system searches for a function called <code>fun.first</code> and, if it finds it, applies it to the object.</p>

<p>If no such function is found, a function called <code>fun.second</code> is tried. If no class name produces a suitable function, the function fun.default is used (if it exists). If there is no class attribute, the implicit class is tried, then the default method.</p>

</article></slide><slide class=""><hgroup><h2>Classes example: plotting without class</h2></hgroup><article  class="smaller " id="classes-example-plotting-without-class">

<pre class = 'prettyprint lang-r'>plot(bmi ~ wgt, data = boys)</pre>

<p><img src="Lecture_B_files/figure-html/unnamed-chunk-7-1.png" width="720" /></p>

</article></slide><slide class=""><hgroup><h2>Classes example: plotting with class</h2></hgroup><article  class="smaller " id="classes-example-plotting-with-class">

<pre class = 'prettyprint lang-r'>plot(lm(bmi ~ wgt, data = boys), which = 1)</pre>

<p><img src="Lecture_B_files/figure-html/unnamed-chunk-8-1.png" width="720" /></p>

</article></slide><slide class=""><hgroup><h2>Classes example: plotting with class</h2></hgroup><article  class="smaller " id="classes-example-plotting-with-class-1">

<pre class = 'prettyprint lang-r'>plot(lm(bmi ~ wgt, data = boys), which = 2)</pre>

<p><img src="Lecture_B_files/figure-html/unnamed-chunk-9-1.png" width="720" /></p>

</article></slide><slide class=""><hgroup><h2>Classes example: plotting with class</h2></hgroup><article  class="smaller " id="classes-example-plotting-with-class-2">

<pre class = 'prettyprint lang-r'>plot(lm(bmi ~ wgt, data = boys), which = 3)</pre>

<p><img src="Lecture_B_files/figure-html/unnamed-chunk-10-1.png" width="720" /></p>

</article></slide><slide class=""><hgroup><h2>Classes example: plotting with class</h2></hgroup><article  class="smaller " id="classes-example-plotting-with-class-3">

<pre class = 'prettyprint lang-r'>plot(lm(bmi ~ wgt, data = boys), which = 4)</pre>

<p><img src="Lecture_B_files/figure-html/unnamed-chunk-11-1.png" width="720" /></p>

</article></slide><slide class=""><hgroup><h2>Classes example: plotting with class</h2></hgroup><article  class="smaller " id="classes-example-plotting-with-class-4">

<pre class = 'prettyprint lang-r'>plot(lm(bmi ~ wgt, data = boys), which = 5)</pre>

<p><img src="Lecture_B_files/figure-html/unnamed-chunk-12-1.png" width="720" /></p>

</article></slide><slide class=""><hgroup><h2>Classes example: plotting with class</h2></hgroup><article  class="smaller " id="classes-example-plotting-with-class-5">

<pre class = 'prettyprint lang-r'>plot(lm(bmi ~ wgt, data = boys), which = 6)</pre>

<p><img src="Lecture_B_files/figure-html/unnamed-chunk-13-1.png" width="720" /></p>

</article></slide><slide class=""><hgroup><h2>Why is plot different for class <code>&quot;lm&quot;</code>?</h2></hgroup><article  class="smaller " id="why-is-plot-different-for-class-lm">

<p>The function <code>plot()</code> is called, but not used. Instead, because the linear model has class <code>&quot;lm&quot;</code>, <code>R</code> searches for the function <code>plot.lm()</code>.</p>

<p>If function <code>plot.lm()</code> would not exist, <code>R</code> tries to apply function <code>plot()</code> (which would have failed in this case because plot requires <code>x</code> and <code>y</code> as input)</p>

<p><code>plot.lm()</code> is created by John Maindonald and Martin Maechler. They thought it would be useful to have a standard plotting environment for objects with class <code>&quot;lm&quot;</code>.</p>

<p>Since the elements that class <code>&quot;lm&quot;</code> returns are known, creating a generic function class is straightforward.</p>

</article></slide><slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2>Importing and exporting data</h2></hgroup><article  class="smaller " id="importing-and-exporting-data">

</article></slide><slide class=""><hgroup><h2><code>RData</code> and <code>RDS</code> files</h2></hgroup><article  class="smaller " id="rdata-and-rds-files">

<p>A single <code>R</code> object is saved as an <code>RDS</code> file</p>

<pre class = 'prettyprint lang-r'>saveRDS(boys, file=&quot;SaveTheBoys.RDS&quot;)
moreboys &lt;- readRDS(&quot;SaveTheBoys.RDS&quot;)</pre>

<p>Remember about projects: The <code>SaveTheBoys</code> file now lies in the same directory as my project file.</p>

<p>Multiple <code>R</code> objects (or entire workspaces) can be saved as <code>RData</code>-files with <code>save()</code> and loaded with <code>load()</code></p>

<pre class = 'prettyprint lang-r'>save(boys, walking, file = &quot;SaveTheseFiles.RData&quot;)
read(file = &quot;SaveTheseFiles.RData&quot;)</pre>

</article></slide><slide class=""><hgroup><h2>Delimited files</h2></hgroup><article  class="smaller " id="delimited-files">

<p>Import delimited files with the functions <code>read.table</code>, <code>read.csv2</code> or <code>read.delim2</code> Export with <code>write.table</code>, <code>write.csv2</code> or <code>write.delim2</code></p>

<p>The <code>xlsx</code> package contains functions <code>readxlsx</code> and <code>writexlsx</code> for working with excel files in R</p>

<h3>Why the &lsquo;2&rsquo;?</h3>

<ul>
<li><p><code>read.csv</code> reads comma-delimited files with decimal points</p></li>
<li><p><code>read.csv2</code> reads semicolon-delimited files with decimal commas</p></li>
<li><p><code>read.delim</code> reads tab-delimited files with decimal points</p></li>
<li><p><code>read.delim2</code> reads tab-delimited files with decimal commas</p></li>
<li><p>Remember the option <code>stringsAsFactors = FALSE</code></p></li>
</ul>

</article></slide><slide class=""><hgroup><h2>SAS, Stata, SPSS and Mplus</h2></hgroup><article  class="smaller " id="sas-stata-spss-and-mplus">

<ul>
<li><p>The package <a href='https://haven.tidyverse.org/index.html' title=''><code>haven</code></a> provides wonderful functions to import and export many data types from software such as Stata, SAS, SPSS, and so on.</p></li>
<li><p>For integrating Mplus into <code>R</code>, package <code>MplusAutomation</code> is essential.</p></li>
</ul>

</article></slide><slide class=""><hgroup><h2>Databases</h2></hgroup><article  class="smaller " id="databases">

<p>You can keep your data in an Oracle database and work with it in R</p>

<ul>
<li><code>library(ROracle)</code>: Oracle Database interface (DBI) driver for R.

<ul>
<li>Read Oracle tables into R</li>
<li>Upload R tables into Oracle</li>
<li>Write SQL syntax in R and execute it on the database</li>
</ul></li>
<li><code>library(dbplyr)</code>: Lets you use dplyr syntax to work with databases</li>
</ul>

</article></slide><slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2>Practical</h2></hgroup><article  class="smaller " id="practical"></article></slide>


  <slide class="backdrop"></slide>

</slides>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<!-- map slide visiblity events into shiny -->
<script>
  (function() {
    if (window.jQuery) {
       window.jQuery(document).on('slideleave', function(e) {
         window.jQuery(e.target).trigger('hidden');
      });
       window.jQuery(document).on('slideenter', function(e) {
         window.jQuery(e.target).trigger('shown');
      });
    }
  })();
</script>

</body>
</html>
