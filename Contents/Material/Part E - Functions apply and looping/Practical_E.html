<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Peter Stoltze and Anne Vinkel Hansen (adapted from Gerko Vink and Kees Mulder)" />


<title>Practical E</title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="libs/navigation-1.1/tabsets.js"></script>
<link href="libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>





<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Practical E</h1>
<h4 class="author">Peter Stoltze and Anne Vinkel Hansen (adapted from Gerko Vink and Kees Mulder)</h4>
<h4 class="date">Statistical Programming with R</h4>

</div>


<hr />
<div id="exercises" class="section level4">
<h4>Exercises</h4>
<hr />
<ol style="list-style-type: decimal">
<li><strong>Create a <code>for</code>-loop that loops over all numbers between 0 and 10, but only prints numbers below 5. </strong></li>
</ol>
<hr />
<ol start="2" style="list-style-type: decimal">
<li><strong>Modify the for loop to only print the numbers 3, 4, and 5.</strong></li>
</ol>
<hr />
<ol start="3" style="list-style-type: decimal">
<li><strong>Try to do the same thing without a for-loop, by subsetting a vector from 0 to 10 directly. </strong></li>
</ol>
<hr />
<ol start="4" style="list-style-type: decimal">
<li><strong>Recreate the following matrix, where the numbers 1 to 8 are multiplied by 1 on the first row, 2 on the second, etc. Tip: use <code>byrow = TRUE</code> to fill a matrix left-to-right instead of top-to-bottom.</strong></li>
</ol>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8]
## [1,]    1    2    3    4    5    6    7    8
## [2,]    2    4    6    8   10   12   14   16
## [3,]    3    6    9   12   15   18   21   24
## [4,]    4    8   12   16   20   24   28   32
## [5,]    5   10   15   20   25   30   35   40</code></pre>
<hr />
<ol start="5" style="list-style-type: decimal">
<li><strong>Create a 6-by-6 matrix of strings, where each cell contains a string like “row + col = sum”. For example, the second row, third column would yield “2 + 3 = 5”. Tip: First create an empty 6-by-6 matrix and then fill it with values. </strong></li>
</ol>
<hr />
<ol start="6" style="list-style-type: decimal">
<li><strong>Modify your loop to put <code>"Sum &gt; 8"</code> in the matrix in the cells where that is true.</strong></li>
</ol>
<hr />
<p>The <code>anscombe</code> data set is a wonderful data set from 1973 by Francis J. Anscombe aimed to demonstrate that pairs of variables can have the same statistical properties, while having completely different graphical representations. If you’d like to know more about <code>anscombe</code>, you can simply call <code>?anscombe</code> to enter the help.</p>
<p>You can directly call <code>anscombe</code> from your console because the <code>datasets</code> package is a base package in <code>R</code>. This means that it is always included and loaded when you start an <code>R</code> instance. In general, when you would like to access functions or data sets from packages that are not automatically loaded, we don’t have to explicitly load the package. We can also call <code>package::thing-we-need</code> to directly ‘grab’ the <code>thing-we-need</code> from the <code>package</code> namespace. For example,</p>
<pre class="r"><code>test &lt;- datasets::anscombe
identical(test, anscombe) #test if identical</code></pre>
<pre><code>## [1] TRUE</code></pre>
<p>This is especially handy within functions, as we can call <code>package::function-name</code> to borrow functionality from installed packages without loading the whole package. Calling only those functions that you need is more memory-efficient than loading it all. More memory efficient means faster computation.</p>
<hr />
<ol start="7" style="list-style-type: decimal">
<li><strong>Display summary statistics (for example, using <code>summary</code>) of each column of the <code>anscombe</code> dataset from the <code>datasets</code> package</strong></li>
</ol>
<hr />
<ol start="8" style="list-style-type: decimal">
<li><strong>Display summary statistics of each column of the <code>anscombe</code> dataset using <code>apply()</code>.</strong></li>
</ol>
<hr />
<ol start="9" style="list-style-type: decimal">
<li><strong>Display summary statistics of each column of the <code>anscombe</code> dataset using <code>sapply()</code>. </strong></li>
</ol>
<p>Remember that objects of class <code>data.frame</code> can be addressed as a list, where the columns are the listed elements (see Lecture B). With <code>sapply</code> the function <code>summary</code> will automatically be applied over the listed elements, hence we don’t have to specify any margins as the <code>anscombe</code> data set is in fact of class <code>data.frame</code>.</p>
<hr />
<ol start="10" style="list-style-type: decimal">
<li><strong>Display summary statistics of each column of the <code>anscombe</code> dataset using <code>lapply()</code>. </strong></li>
</ol>
<p>Function <code>lapply()</code> behaves just like <code>sapply()</code> - in fact, <code>sapply()</code> is a more user-friendly version of <code>lapply()</code>, but returns a list rather than a matrix. Most prefer the elegant application of <code>sapply()</code> for the <code>anscombe</code> data set (or the equivalently <code>apply()</code> over the columns). However, if a data set has many dimensions, the return from <code>lapply()</code> may be much more flexible to work with.</p>
<hr />
<ol start="11" style="list-style-type: decimal">
<li><strong>Write a function that takes a vector of numbers as input, and returns a string containing “The mean is XXX”, where XXX should be, of course, the mean of the input vector. </strong></li>
</ol>
<hr />
<ol start="12" style="list-style-type: decimal">
<li><strong>Apply this to each column of <code>anscombe</code>. </strong></li>
</ol>
<hr />
<ol start="13" style="list-style-type: decimal">
<li><strong>Now modify your function to <code>round()</code> off the means to have a single decimal, and <code>apply</code> it again to see the results.</strong></li>
</ol>
<hr />
<p>The <code>mammalsleep</code> data set from the <code>mice</code> package shows data collected by Allison and Cicchetti (1976). It holds information for 62 mammal species on the interrelationship between sleep, ecological, and constitutional variables. The dataset contains missing values on five variables, which poses challenges when analyses include these variables.</p>
<p>We have used this dataset previously this week, but we use it only once today. Therefore we could more efficiently call <code>mice::mammalsleep</code> to obtain only the <code>mammalsleep</code> data set without loading the whole <code>mice</code> package.</p>
<hr />
<ol start="14" style="list-style-type: decimal">
<li><strong>Write a function that takes a vector as input, and that returns a string that contains either (1) the mean and standard deviation (<code>sd()</code>) of the vector, if the vector is numeric, or (2) the <code>levels</code> of the vector, if it is categorical.</strong></li>
</ol>
<ul>
<li><p><strong>(a)</strong> Apply this function over each column of the <code>mammalsleep</code> dataset from the <code>mice</code> package.</p></li>
<li><p><strong>(b)</strong> Does this function work for all of the columns? If not, fix it.</p></li>
</ul>
<hr />
<p>End of Practical</p>
<hr />
</div>
<div id="references" class="section level4">
<h4>References</h4>
<p>Allison, T., Cicchetti, D.V. (1976). <a href="https://pdfs.semanticscholar.org/8d4f/202354bf0fd1bd445792340e16acc042ec6d.pdf">Sleep in Mammals: Ecological and Constitutional Correlates</a>. Science, 194(4266), 732-734.</p>
<p>Anscombe, Francis J. (1973) <a href="http://www.sjsu.edu/faculty/gerstman/StatPrimer/anscombe1973.pdf">Graphs in statistical analysis</a>. American Statistician, 27, 17–21.</p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
